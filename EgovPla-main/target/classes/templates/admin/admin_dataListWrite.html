<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>데이터 추가</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/admin/admin-data-write.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/footer.css">
</head>
<body>
<th:block th:replace="admin/adminHeader :: headerLayout"></th:block>
<div class="ft">
    <div class="main-container">
        <div class="main-title">
            <h1>데이터 추가</h1>
        </div>
        <form th:action="@{/admin/dataList/create}" method="post" enctype="multipart/form-data">
            <div class="split--div-post"></div>
            <input type="hidden" name="id" />
            <table class="board_detail">
                <tbody>
                <tr>
                    <th>제목</th>
                    <td colspan="3"><input type="text" id="title" name="title" /></td>
                </tr>
                <tr>
                    <th>내용</th>
                    <td colspan="3" >
                        <textarea id="content" name="content" ></textarea></td>
                </tr>
                <tr>
                    <th>첨부 파일</th>
                    <td colspan="3">
                        <input type="file" id="file" name="files" accept=".csv,.xls,.xlsx" multiple><br><br>
                </tr>
            </table>
            <div class="main-title">
                <h1>파일데이터 정보</h1>
            </div>
            <table class="board_detail">
                <tbody>
                <tr>
                    <th>파일데이터명</th>
                    <td colspan="3">
                        <input type="text" id="a1" name="a1" />
                    </td>
                </tr>
                <tr>
                    <th>분류체계</th>
                    <td>
                        <input type="text" id="a2" name="a2" />
                    </td>
                    <th>제공기관</th>
                    <td>
                        <input type="text" id="a3" name="a3" />
                    </td>
                </tr>
                <tr>
                    <th>관리부서명</th>
                    <td>
                        <input type="text" id="a4" name="a4" />
                    </td>
                    <th>관리부서 전화번호</th>
                    <td>
                        <input type="text" id="a5" name="a5" />
                    </td>
                </tr>
                <tr>
                    <th>보유근거</th>
                    <td>
                        <textarea id="a6" name="a6" ></textarea>
                    </td>
                    <th>수집방법</th>
                    <td>
                        <textarea type="text" id="a7" name="a7" ></textarea>
                    </td>
                </tr>
                <tr>
                    <th>업데이트 주기</th>
                    <td>
                        <input type="text" id="a8" name="a8" />
                    </td>
                    <th>차기 등록 예정일</th>
                    <td>
                        <input type="text" id="a9" name="a9" />
                    </td>
                </tr>
                <tr>
                    <th>매체유형</th>
                    <td>
                        <input type="text" id="a10" name="a10" />
                    </td>
                    <th>전체 행</th>
                    <td>
                        <input type="text" id="a11" name="a11" />
                    </td>
                </tr>
                <tr>
                    <th>확장자</th>
                    <td>
                        <input type="text" id="a12" name="a12" />
                    </td>
                    <th>키워드</th>
                    <td>
                        <input type="text" id="a13" name="a13" />
                    </td>
                </tr>
                <tr>
                    <th>등록일</th>
                    <td>
                        <input type="text" id="createdAt" name="createdAt" />
                    </td>
                    <th>수정일</th>
                    <td>
                        <input type="text" id="updatedAt" name="updatedAt" />
                    </td>
                </tr>
                <tr>
                    <th>데이터한계</th>
                    <td colspan="3">
                        <input type="text" id="a14" name="a14" />
                    </td>
                </tr>
                <tr>
                    <th>제공형태</th>
                    <td colspan="3">
                        <input type="text" id="a15" name="a15" />
                    </td>
                </tr>
                <tr>
                    <th>URL</th>
                    <td colspan="3">
                        <input type="text" id="a21" name="a21" />
                    </td>
                </tr>
                <tr>
                    <th>설명</th>
                    <td colspan="3">
                        <textarea id="a16" name="a16" ></textarea>
                    </td>
                </tr>
                <tr>
                    <th>기타 유의사항</th>
                    <td colspan="3">
                        <textarea id="a17" name="a17" ></textarea>
                    </td>
                </tr>
                <tr>
                    <th>비용부과 유무</th>
                    <td>
                        <input type="text" id="a18" name="a18" />
                    </td>
                    <th>비용부과기준 및 단위</th>
                    <td>
                        <input type="text" id="a19" name="a19" />
                    </td>
                </tr>
                <tr>
                    <th>이용허락범위</th>
                    <td colspan="3">
                        <input type="text" id="a20" name="a20" />
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="admin9-form-actions">
                <button type="submit" class="admin9-submit-button">추가</button>
            </div>
        </form>
    </div>
</div>
<script>
    document.getElementById('file').addEventListener('change', function(event) {
        let files = event.target.files;
        for (let i = 0; i < files.length; i++) {
            let fileName = files[i].name.toLowerCase();
            if (!(fileName.endsWith('.csv') || fileName.endsWith('.xls') || fileName.endsWith('.xlsx'))) {
                alert('CSV 또는 엑셀 파일만 업로드 가능합니다.');
                event.target.value = '';  // 입력 필드를 초기화
                return;
            }
        }
    });
</script>
<div class="footers"></div> <!-- 이거 지우면 안됨 -->
<th:block th:replace="layout/footer :: footerLayout"></th:block>
</body>
</html>
